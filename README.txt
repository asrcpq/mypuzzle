Todo:

## Better debug experience:

die msg broadcast and
(any) die msg will make ai wait for input

User can force attack pairing,
finally ai program should not require user interaction.

Hearthbeat, used when listing client,
then listing client can be used for real pairing

## Code clean

break main_loop and after_operation
